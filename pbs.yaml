external_url: "http://ow.pubmatic.com"
datacenter: "TEMP"
tracker_url: "https://10.110.194.12:8842/wt?operId=8&e=[EVENT_ID]&p=[PBS-ACCOUNT]&pid=[PROFILE_ID]&v=[PROFILE_VERSION]&ts=[UNIX_TIMESTAMP]&pn=[PBS-BIDDER]&adv=[ADVERTISER_NAME]&sURL=[DOMAIN]&pfi=[PLATFORM]&af=[ADTYPE]&iid=[WRAPPER_IMPRESSION_ID]&pseq=[PODSEQUENCE]&adcnt=[ADCOUNT]&cb=[CACHEBUSTING]&au=[AD_UNIT]&bidid=[PBS-BIDID]&origbidid=[PBS-ORIG_BIDID]&bc=[BIDDER_CODE]"
adapters:
  appnexus:
    endpoint: http://10.172.141.11:3141/openrtb2 #"http://10.110.194.12:3141/openrtb2"
  pubmatic:
    endpoint:  http://10.172.141.14/translator?source=ow-server #"http://10.110.194.12:3141/translator?source=ow-server"
    #endpoint: http://10.172.141.11:3141/translator?source=ow-server #"http://10.110.194.12:3141/translator?source=ow-server"

metrics:
  prometheus:
    Enabled: true
    UseSeparateServerInstance: false
    ExposePrebidMetrics: true
    port: 8002    #Set value 0 when value of ExposePrebidMetrics = false and set non-zero value(e.g 8002) when value of ExposePrebidMetrics = true OR UseSeparateServerInstance = true
    namespace: "ow"
    subsystem: "pbs"
    timeout_ms: 300
    HBNamespace: "ow"
    HBSubsystem: "hb"
  disabled_metrics:
    adapter_connections_metrics: false

      
hooks:
    enabled: true
    modules:
      pubmatic:
        vastunwrap:
          enabled: true
          VastUnWrapCfg:
              enabled: true
              http_config:
                max_idle_conns: 100
                max_idle_conns_per_host: 1
                idle_conn_timeout: 300
              app_config:
                unwrap_default_timeout: 100
                debug: 1
              stat_config:
                host: 10.172.141.13
                port: 8080
                referesh_interval_in_sec: 1
              server_config:
                dc_name: OW_DC
              log_config:
                debug_log_file: /Users/jaydeepmohite/logs/unwrap/debug.log
                error_log_file: /Users/jaydeepmohite/logs/unwrap/error.log

    host_execution_plan:
      endpoints:
        /openrtb2/auction:
          stages:
            entrypoint:
              groups:
                - timeout: 500000
                  hook_sequence:
                    module_code: pubmatic.vastunwrap
                    hook_impl_code: pubmatic.vastunwrap.setup_request_ctx
    
            raw_bidder_response:
              groups:
                - timeout: 500000
                  hook_sequence:
                    module_code: pubmatic.vastunwrap
                    hook_impl_code: pubmatic.vastunwrap.process_bidder_resp
    




    # default_account_execution_plan:
    #   endpoints:
    #     /openrtb2/auction:
    #       stages:
    #         raw_bidder_response:
    #           groups:
    #             - timeout: 500000
    #               hook_sequence:
    #                 module_code: pubmatic.openwrap
    #                 hook_impl_code: pubmatic.openwrap.setup_request_ctx    
price_floors:
    enabled: true

account_defaults:
  # hooks:
  #   modules:
  #     pubmatic:
  #       openwrap:

  #   host_execution_plan:
  #     endpoints:
  #       /openrtb2/auction:
  #         stages:
  #           raw_bidder_response:
  #             groups:
  #               - timeout: 500000
  #                 hook_sequence:
  #                   module_code: pubmatic.openwrap
  #                   hook_impl_code: pubmatic.openwrap.setup_request_ctx
    price_floors:
        enabled: true
        enforce_floors_rate: 50
        adjust_for_bid_adjustment: false
        enforce_deal_floors: true
        use_dynamic_data: true